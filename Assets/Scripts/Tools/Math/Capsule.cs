#nullable enable // autogenerated

using UnityEngine;

namespace Tools.Mathematics
{
    public struct Capsule : IConvexShape
    {
        public Capsule(Vector3 point0, Vector3 point1, float radius)
        {
            this.point0 = point0;
            this.point1 = point1;
            this.radius = radius;
        }
        public Vector3 point0;
        public Vector3 point1;
        public float radius;
        public Vector3 GetFarthestPointInDirection(Vector3 direction)
        {
            if (direction.sqrMagnitude <= Mathf.Epsilon)
                return point0;

            var center = Vector3.Dot(point1 - point0, direction) > 0 ? point1 : point0;
            var normalized = direction.normalized;
            return center + normalized * radius;
        }
        public Vector3 GetCenter() => (point0 + point1) * 0.5f;
    }
}