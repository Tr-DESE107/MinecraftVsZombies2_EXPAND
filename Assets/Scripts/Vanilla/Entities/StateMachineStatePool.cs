#nullable enable // autogenerated

using System;
using PVZEngine.Entities;

namespace MVZ2.Vanilla.Entities
{
    public static class EntityStateMachineHelper
    {
        public static int FindNextStateIndex(this int[] states, int currentIndex, Predicate<int> predicate)
        {
            var length = states.Length;
            if (length <= 0)
                return -1;
            if (currentIndex < 0)
            {
                currentIndex = 0;
            }
            for (int i = 0; i < length; i++)
            {
                var index = (currentIndex + i) % length;
                var state = states[index];
                if (!predicate(state))
                    continue;
                return index;
            }
            return -1;
        }
    }
}
