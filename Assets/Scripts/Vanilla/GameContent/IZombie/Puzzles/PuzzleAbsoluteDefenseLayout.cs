#nullable enable // autogenerated

using MVZ2.GameContent.Contraptions;
using MVZ2.GameContent.Enemies;
using MVZ2.GameContent.Stages;
using MVZ2Logic;
using MVZ2Logic.IZombie;
using PVZEngine;
using Tools;

namespace MVZ2.GameContent.IZombie
{
    [IZombieLayoutDefinition(VanillaIZombieLayoutNames.puzzleAbsoluteDefense)]
    public class PuzzleAbsoluteDefenseLayout : IZombieLayoutDefinition
    {
        public PuzzleAbsoluteDefenseLayout(string nsp, string name) : base(nsp, name, 6)
        {
            Blueprints = new NamespaceID[]
            {
                VanillaEnemyID.RaiderSkull,
                VanillaEnemyID.mesmerizer,
                VanillaEnemyID.skeletonHorse,
                VanillaEnemyID.WitherSkeletonHorse,
                VanillaEnemyID.wickedHermitZombie,
                VanillaEnemyID.spider,
                VanillaEnemyID.bedserker,
                VanillaEnemyID.HostMutant,
                VanillaEnemyID.HeavyGutant,
                VanillaEnemyID.EvilMage,
                
            };
        }
        public override void Fill(IIZombieMap map, RandomGenerator rng)
        {
            for (int lane = 0; lane < map.Lanes; lane++)
            {
                Insert(map, 5, lane, VanillaContraptionID.Bedrock);
            }
            Insert(map, 0, 0, VanillaContraptionID.woodenDropper);
            Insert(map, 1, 0, VanillaContraptionID.stoneDropper);
            Insert(map, 2, 0, VanillaContraptionID.furnace);
            //Insert(map, 3, 0, VanillaContraptionID.RedStoneOre);

            Insert(map, 0, 1, VanillaContraptionID.splitenser);
            Insert(map, 1, 1, VanillaContraptionID.woodenDropper);
            Insert(map, 2, 1, VanillaContraptionID.stoneDropper);
            //Insert(map, 3, 1, VanillaContraptionID.RedStoneOre);

            Insert(map, 0, 2, VanillaContraptionID.totenser);
            Insert(map, 1, 2, VanillaContraptionID.totenser);
            Insert(map, 2, 2, VanillaContraptionID.drivenser);
            //Insert(map, 3, 2, VanillaContraptionID.RedStoneOre);

            Insert(map, 0, 3, VanillaContraptionID.drivenser);
            Insert(map, 1, 3, VanillaContraptionID.drivenser);
            Insert(map, 2, 3, VanillaContraptionID.drivenser);
            //Insert(map, 3, 3, VanillaContraptionID.RedStoneOre);

            Insert(map, 0, 4, VanillaContraptionID.woodenDropper);
            Insert(map, 1, 4, VanillaContraptionID.furnace);
            Insert(map, 2, 4, VanillaContraptionID.stoneDropper);
            //Insert(map, 3, 4, VanillaContraptionID.RedStoneOre);

            RandomFill(map, VanillaContraptionID.punchton, 2, rng);
            RandomFill(map, VanillaContraptionID.magichest, 2, rng);
            RandomFill(map, VanillaContraptionID.RedStoneOre, 3, rng);
            RandomFill(map, VanillaContraptionID.obsidian, 2, rng);
            RandomFill(map, VanillaContraptionID.stoneDropper, 1, rng);
        }
    }
}
