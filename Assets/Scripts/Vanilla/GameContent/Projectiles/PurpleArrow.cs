#nullable enable // autogenerated

using MVZ2.Vanilla.Entities;
using MVZ2.GameContent.Damages;
using PVZEngine.Damages;
using PVZEngine.Level;

namespace MVZ2.GameContent.Projectiles
{
    [EntityBehaviourDefinition(VanillaProjectileNames.purpleArrow)]
    public class purpleArrow : ProjectileBehaviour
    {
        public purpleArrow(string nsp, string name) : base(nsp, name)
        {
        }

        protected override void PostHitEntity(ProjectileHitOutput hitResult, DamageOutput damage)
        {
            base.PostHitEntity(hitResult, damage);

            var target = hitResult.Other;
            var projectile = hitResult.Projectile;

            // 造成10点穿甲伤害  
            if (target != null && target.Exists() && !target.IsDead)
            {
                var armorPiercingDamage = new DamageEffectList(VanillaDamageEffects.IGNORE_ARMOR);
                target.TakeDamage(10, armorPiercingDamage, projectile);
            }
        }
    }
}