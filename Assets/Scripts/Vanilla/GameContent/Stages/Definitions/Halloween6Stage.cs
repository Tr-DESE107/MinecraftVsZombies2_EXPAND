#nullable enable // autogenerated

using MVZ2.GameContent.Contraptions;
using MVZ2.GameContent.Seeds;
using MVZ2.Vanilla.Level;
using PVZEngine;
using PVZEngine.Definitions;
using PVZEngine.Level;

namespace MVZ2.GameContent.Stages
{
    [StageDefinition(VanillaStageNames.halloween6)]
    public partial class Halloween6Stage : StageDefinition
    {
        public Halloween6Stage(string nsp, string name) : base(nsp, name)
        {
            var waveStageBehaviour = new WaveStageBehaviour(this);
            waveStageBehaviour.SpawnFlagZombie = false;
            AddBehaviour(waveStageBehaviour);
            AddBehaviour(new WhackAGhostBehaviour(this));
            AddBehaviour(new FinalWaveClearBehaviour(this));
            AddBehaviour(new GemStageBehaviour(this));
            AddBehaviour(new StarshardStageBehaviour(this));
            AddBehaviour(new RedstoneDropStageBehaviour(this));
        }
        public override void OnSetup(LevelEngine level)
        {
            base.OnSetup(level);
            level.StartRain();
        }
        public override void OnStart(LevelEngine level)
        {
            base.OnStart(level);

            level.SetSeedSlotCount(3);
            level.FillSeedPacks(new NamespaceID[]
            {
                VanillaBlueprintID.FromEntity(VanillaContraptionID.glowstone),
                VanillaBlueprintID.FromEntity(VanillaContraptionID.obsidian),
                VanillaBlueprintID.FromEntity(VanillaContraptionID.punchton),
            });
        }
    }
}
