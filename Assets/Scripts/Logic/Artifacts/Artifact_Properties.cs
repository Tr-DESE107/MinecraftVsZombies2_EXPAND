#nullable enable // autogenerated

using PVZEngine;

namespace MVZ2Logic.Artifacts
{
    public partial class Artifact
    {
        public void SetProperty<T>(PropertyKey<T> name, T? value) => propertyDict.SetProperty(name, value);
        public T? GetProperty<T>(PropertyKey<T> name)
        {
            if (propertyDict.TryGetProperty<T>(name, out var thisProp))
                return thisProp;
            return Definition.GetProperty<T>(name);
        }
        #region 序列化
        private void WritePropertiesToSerializable(SerializableArtifact seri)
        {
            seri.propertyDict = propertyDict.ToSerializable();
        }
        private void InitPropertiesFromSerializable(SerializableArtifact seri)
        {
            propertyDict = PropertyDictionary.FromSerializable(seri.propertyDict);
        }
        #endregion

        #region 属性字段
        private PropertyDictionary propertyDict = new PropertyDictionary();
        #endregion
    }
}
