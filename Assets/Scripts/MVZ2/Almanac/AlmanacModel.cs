#nullable enable // autogenerated

using MVZ2.Models;
using UnityEngine;

namespace MVZ2.Almanacs
{
    public class AlmanacModel : MonoBehaviour
    {
        public void ChangeModel(ModelBuilder builder)
        {
            if (model.Exists())
            {
                Destroy(model.gameObject);
                model = null;
                updater.model = null;
            }
            model = builder.Build(rootTransform);
            if (model.Exists())
            {
                updater.model = model;
                if (model is EntityModel spriteModel)
                {
                    spriteModel.CancelSortAtRoot();
                }
            }
        }
        [SerializeField]
        private Transform rootTransform = null!;
        [SerializeField]
        private ModelUpdater updater = null!;
        [SerializeField]
        private Model? model;
    }
}
