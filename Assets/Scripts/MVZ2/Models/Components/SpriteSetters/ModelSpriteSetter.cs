#nullable enable // autogenerated

using UnityEngine;

namespace MVZ2.Models
{
    [RequireComponent(typeof(SpriteRenderer))]
    public class ModelSpriteSetter : ModelComponent
    {
        public override void UpdateFrame(float deltaTime)
        {
            if (sprite != beforeSprite || (Application.isEditor && !Application.isPlaying))
            {
                if (Main)
                {
                    beforeSprite = sprite;
                    var final = sprite.Exists() ? Main.GetFinalSprite(sprite) : null;
                    Renderer.sprite = final;
                }
            }
        }
        private SpriteRenderer Renderer
        {
            get
            {
                if (!sprRenderer.Exists())
                {
                    sprRenderer = GetComponent<SpriteRenderer>();
                }
                return sprRenderer;
            }
        }
        private SpriteRenderer? sprRenderer;
        private Sprite? beforeSprite;
        public Sprite? sprite;
    }
}