#nullable enable // autogenerated

using System.Xml;
using MVZ2.IO;
using MVZ2Logic;
using UnityEngine;

namespace MVZ2.Metas
{
    public class ChapterTransitionMeta
    {
        public string ID { get; private set; }
        public float Angle { get; private set; }
        public int Mode { get; private set; }
        public SpriteReference? TextSprite { get; private set; }
        private ChapterTransitionMeta(string id)
        {
            ID = id;
        }
        public static ChapterTransitionMeta? FromXmlNode(XmlNode node, string defaultNsp)
        {
            var id = node.GetAttribute("id");
            if (string.IsNullOrEmpty(id))
            {
                Debug.LogError("The ID of a ChapterTransitionMeta is invalid.");
                return null;
            }
            var angle = node.GetAttributeFloat("angle") ?? 0;
            var mode = node.GetAttributeInt("mode") ?? 0;
            var textSprite = node.GetAttributeSpriteReference("textSprite", defaultNsp);
            return new ChapterTransitionMeta(id)
            {
                Angle = angle,
                Mode = mode,
                TextSprite = textSprite
            };
        }
        public const int MODE_ROTATE = 0;
        public const int MODE_NO_ROTATE = 1;
        public const int MODE_END = 2;

    }
}
