#nullable enable // autogenerated

using System.Collections.Generic;
using System.Xml;

namespace MVZ2.Metas
{
    public class BlueprintMetaList
    {
        public BlueprintMetaList(BlueprintOptionMeta[] options, BlueprintEntityMeta[] entities, BlueprintErrorMeta[] errors, BlueprintStyleMeta[] styles)
        {
            Options = options;
            Entities = entities;
            Errors = errors;
            Styles = styles;
        }

        public BlueprintOptionMeta[] Options { get; private set; }
        public BlueprintEntityMeta[] Entities { get; private set; }
        public BlueprintErrorMeta[] Errors { get; private set; }
        public BlueprintStyleMeta[] Styles { get; private set; }
        public static BlueprintMetaList FromXmlNode(string nsp, XmlNode node, string defaultNsp)
        {
            var options = new List<BlueprintOptionMeta>();
            var errors = new List<BlueprintErrorMeta>();
            var entities = new List<BlueprintEntityMeta>();
            var styles = new List<BlueprintStyleMeta>();
            for (var i = 0; i < node.ChildNodes.Count; i++)
            {
                var child = node.ChildNodes[i];
                if (child.Name == "options")
                {
                    LoadOptions(nsp, options, child, defaultNsp);
                }
                else if (child.Name == "errors")
                {
                    LoadErrors(errors, child, defaultNsp);
                }
                else if (child.Name == "entities")
                {
                    LoadEntities(nsp, entities, child, defaultNsp);
                }
                else if (child.Name == "styles")
                {
                    LoadStyles(nsp, styles, child, defaultNsp);
                }
            }
            return new BlueprintMetaList(options.ToArray(), entities.ToArray(), errors.ToArray(), styles.ToArray());
        }
        private static void LoadEntities(string nsp, List<BlueprintEntityMeta> entities, XmlNode node, string defaultNsp)
        {
            for (var i = 0; i < node.ChildNodes.Count; i++)
            {
                var child = node.ChildNodes[i];
                if (child.Name == "entity")
                {
                    var meta = BlueprintEntityMeta.FromXmlNode(nsp, child, defaultNsp);
                    if (meta != null)
                    {
                        entities.Add(meta);
                    }
                }
            }
        }
        private static void LoadOptions(string nsp, List<BlueprintOptionMeta> options, XmlNode node, string defaultNsp)
        {
            for (var i = 0; i < node.ChildNodes.Count; i++)
            {
                var child = node.ChildNodes[i];
                if (child.Name == "option")
                {
                    var meta = BlueprintOptionMeta.FromXmlNode(nsp, child, defaultNsp);
                    if (meta != null)
                    {
                        options.Add(meta);
                    }
                }
            }
        }
        private static void LoadErrors(List<BlueprintErrorMeta> errors, XmlNode node, string defaultNsp)
        {
            for (var i = 0; i < node.ChildNodes.Count; i++)
            {
                var child = node.ChildNodes[i];
                if (child.Name == "error")
                {
                    var meta = BlueprintErrorMeta.FromXmlNode(child, defaultNsp);
                    if (meta != null)
                    {
                        errors.Add(meta);
                    }
                }
            }
        }
        private static void LoadStyles(string nsp, List<BlueprintStyleMeta> styles, XmlNode node, string defaultNsp)
        {
            for (var i = 0; i < node.ChildNodes.Count; i++)
            {
                var child = node.ChildNodes[i];
                if (child.Name == "style")
                {
                    var meta = BlueprintStyleMeta.FromXmlNode(child, defaultNsp);
                    if (meta != null)
                    {
                        styles.Add(meta);
                    }
                }
            }
        }
    }
}
